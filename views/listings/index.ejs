<% layout("/layouts/boilerplate") %>
    <!-- <h3>All Listings</h3> -->

    <div class="filters">
        <a href="/listings/icons?filter=trending">
            <div class="filter">
                <div><i class="fa-solid fa-fire"></i></div>
                <p>Trending</p>
            </div>
        </a>
        <a href="/listings/icons?filter=room">
            <div class="filter">
                <div><i class="fa-solid fa-bed"></i></i></div>
                <p>Room</p>
            </div>
        </a>
        <a href="/listings/icons?filter=iconic_cities">
            <div class="filter">
                <div><i class="fa-solid fa-mountain-city"></i></div>
                <p>Iconic Cities</p>
            </div>
        </a>
        <a href="/listings/icons?filter=castel">
            <div class="filter">
                <div><i class="fa-brands fa-fort-awesome"></i></i></div>
                <p>Castels</p>
            </div>
        </a>
        <a href="/listings/icons?filter=mountain">
            <div class="filter">
                <div><i class="fa-solid fa-mountain"></i></div>
                <p>Mountains</p>
            </div>
        </a>
        <a href="/listings/icons?filter=pool">
            <div class="filter">
                <div><i class="fa-solid fa-person-swimming"></i></div>
                <p>Amazing Pools</p>
            </div>
        </a>
        <a href="/listings/icons?filter=camping">
            <div class="filter">
                <div><i class="fa-solid fa-campground"></i></div>
                <p>Camping</p>
            </div>
        </a>
        <a href="/listings/icons?filter=farm">
            <div class="filter">
                <div><i class="fa-solid fa-cow"></i></div>
                <p>Farms</p>
            </div>
        </a>
        <a href="/listings/icons?filter=artic">
            <div class="filter">
                <div><i class="fa-solid fa-snowflake"></i></div>
                <p>Arctic</p>
            </div>
        </a>
        <a href="/listings/icons?filter=dome">
            <div class="filter">
                <div><i class="fa-solid fa-igloo"></i></div>
                <p>Domes</p>
            </div>
        </a>
        <a href="/listings/icons?filter=boat">
            <div class="filter">
                <div><i class="fa-solid fa-ship"></i></div>
                <p>Boats</p>
            </div>
        </a>
   
        <div class="tax-toggle">
            <div class="form-check-reverse form-switch">
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
                <label class="form-check-label" for="flexSwitchCheckDefault">Display total after taxes</label>
            </div>
        </div>
    </div>
   
    <div class="cards-container">
        <%  for(let listing of allListing){%>
            <a href="/listings/<%=listing._id  %>" class="listing-link" >
                <div class="card" >
                    <img src="<%= listing.image.url  %>" class="card-img-top" alt="listing_img">
                    <div class="card-img-overlay">
                      </div>
                    <div class="card-body">
                    <p class="card-text">
                        <b><%=listing.title %></b><br>
                        &#x20B9; <%= listing.price.toLocaleString("en-In")  %>/ night
                        <i class="tax-info"> &nbsp; &nbsp; +18% GST</i>
                    </p>
                    </div>
                </div>
            </a>
        <% } %>
    </div>

<script>
    let taxSwitch = document.querySelector("#flexSwitchCheckDefault")
    taxSwitch.addEventListener("click",()=>{
        let taxInfo = document.querySelectorAll(".tax-info")
        for(let info of taxInfo){
            if(info.style.display !=="inline"){
            info.style.display ="inline"
            }else{
                info.style.display ="none"
            }
        }
    })
</script>

